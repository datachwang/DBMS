<!DOCTYPE html>
<html>

<head>
    <title>User Update Page</title>
    <style>
        .sidenav {
          height: 100vh;
          width: 130px;
          position: fixed;
          z-index: 1;
          top: 0px;
          left: 10px;
          background: #eee;
          overflow-x: hidden;
          overflow-y: auto;
          padding: 8px 0;
        }

        .sidenav a {
          padding: 6px 8px 6px 16px;
          text-decoration: none;
          font-size: 18px;
          color: #2196F3;
          display: block;
        }

        .sidenav a:hover {
          color: #064579;
        }

        .main {
          margin-left: 160px;
          font-size: 16px;
          padding: 10px 20px;
        }

        label {
          display: block;
          margin-top: 10px;
        }

        input[type="number"],
        input[type="text"] {
          width: 250px;
          padding: 6px;
          margin-top: 3px;
        }

        button {
          margin-top: 15px;
          padding: 8px 16px;
          background-color: #2196F3;
          border: none;
          border-radius: 4px;
          color: white;
          cursor: pointer;
        }

        button:hover {
          background-color: #064579;
        }

        .flash {
          margin-bottom: 15px;
          padding: 10px;
          border-radius: 4px;
        }

        .flash.success {
          background-color: #d4edda;
        }

        .flash.danger {
          background-color: #f8d7da;
        }
    </style>
</head>

<body>

<div class="sidenav">
  <a href="/"> Home Page </a>
  <a href="/user_transactions"> Browse: User Transactions </a>
  <a href="/merchant_analysis"> Browse: Merchant Analysis </a>
  <a href="/user_update"> Update: New Users / Transactions </a>
  <a href="/user_card"> Browse: User Card </a>
  <a href="/user_categorized_spend"> Query: User Categorized Spend </a>
  <a href="/max_spend_category"> Query: Max Spend Category </a>
</div>

<div class="main">
    <h1>User Update â€“ Insert Transaction</h1>
    <p>Use this form to insert a new record into <code>user_transations</code>.</p>

    <!-- Flash messages from Flask -->
    {% with messages = get_flashed_messages(with_categories=true) %}
      {% if messages %}
        {% for category, message in messages %}
          <div class="flash {{ category }}">{{ message }}</div>
        {% endfor %}
      {% endif %}
    {% endwith %}

    <form method="POST" action="/user_update">
        <label for="card_id">Card ID:</label>
        <input type="number" id="card_id" name="card_id" required>

        <label for="amount">Amount:</label>
        <input type="number" id="amount" name="amount" step="0.01" required>

        <label for="merchant_id">Merchant ID:</label>
        <input type="number" id="merchant_id" name="merchant_id" required>

        <label for="mcc">MCC Code:</label>
        <input type="number" id="mcc" name="mcc" required>

        <button type="submit">Insert Transaction</button>
    </form>

    <p style="margin-top:20px; font-size:14px;">
        ðŸ”¹ Example values from your datasets:<br>
        Card ID: <b>2042</b> (from <code>user_card_data</code>)<br>
        Amount: <b>50.25</b><br>
        Merchant ID: <b>59935</b> (from <code>merchant_table</code>)<br>
        MCC Code: <b>5411</b> (from <code>mcc_code</code>)<br>
    </p>
</div>

</body>
</html>
